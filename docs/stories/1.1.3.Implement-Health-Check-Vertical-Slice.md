--- START OF FILE 1.1.3.Implement-Health-Check-Vertical-Slice.md ---

# Status

- [x] Draft
- [ ] Approved
- [ ] InProgress
- [ ] Review
- [ ] Done

# Story

**As a** Developer,
**I want** to implement a health-check feature connecting the Flutter app to the Laravel API,
**so that** I can verify the communication channel between the frontend and backend is working correctly.

# Acceptance Criteria

1.  A public health-check endpoint (`GET /api/health`) is created in the Laravel application, located at `backend/routes/api.php`, that returns a `200 OK` status with a simple JSON response (e.g., `{"status": "ok"}`).
2.  A feature test for the `GET /api/health` endpoint, located at `backend/tests/Feature/HealthCheckTest.php`, exists and passes, verifying the `200 OK` status as required by the [`docs/architecture/testing-strategy.md`](../../docs/architecture/testing-strategy.md).
3.  The Flutter app contains the centralized `ApiClientService` as defined in [`docs/architecture/frontend-architecture.md#api-integration`](../../docs/architecture/frontend-architecture.md#api-integration), located at `frontend/lib/core/api/api_client_service.dart`, and is configured to use the `dio` package specified in the [`docs/architecture/tech-stack.md`](../../docs/architecture/tech-stack.md).
4.  The Flutter app has a simple UI within a new feature folder `frontend/lib/features/health_check/` with a button that, when tapped, calls the `/api/health` endpoint using the `ApiClientService`. This adheres to the project structure defined in [`docs/architecture/unified-project-structure.md`](../../docs/architecture/unified-project-structure.md).
5.  The Flutter app displays a success message (via a `SnackBar`) on a successful API call and an error message on failure, using the `ViewEvent` pattern defined in [`docs/architecture/frontend-architecture.md#provider-implementation-pattern`](../../docs/architecture/frontend-architecture.md#provider-implementation-pattern).
6.  A widget test for the health check button, located at `frontend/test/features/health_check/health_check_button_test.dart`, exists and passes, verifying it renders and triggers the API call on tap by mocking the `ApiClientService`.

# Tasks / Subtasks

- [ ] **Backend API Endpoint (AC: 1, 2)**
  - [ ] Create a `HealthCheckController.php` in `backend/app/Http/Controllers/` following the lean controller pattern from [`docs/architecture/backend-architecture.md`](../../docs/architecture/backend-architecture.md).
  - [ ] Register the `GET /api/health` route in `backend/routes/api.php` to point to the new controller.
  - [ ] Write a feature test in `backend/tests/Feature/HealthCheckTest.php` to assert a 200 status code from the endpoint.
  - [ ] Ensure all new PHP classes and methods have PHPDoc comments as mandated by [`docs/architecture/coding-standards.md`](../../docs/architecture/coding-standards.md).
- [ ] **Frontend API Service (AC: 3)**
  - [ ] Add the `dio` HTTP client package, as specified in [`docs/architecture/tech-stack.md`](../../docs/architecture/tech-stack.md), to the `frontend/pubspec.yaml` file.
  - [ ] Implement the `ApiClientService` in `frontend/lib/core/api/api_client_service.dart` according to the specification in [`docs/architecture/frontend-architecture.md#api-integration`](../../docs/architecture/frontend-architecture.md#api-integration).
- [ ] **Frontend UI & Integration (AC: 4, 5, 6)**
  - [ ] Create a new feature folder `frontend/lib/features/health_check/` as per the project structure.
  - [ ] Create a simple screen/widget with a button.
  - [ ] Create a `HealthCheckProvider` that uses the `ApiClientService` to call the health check endpoint.
  - [ ] Wire the button's `onPressed` event to the provider method and implement logic to show a `SnackBar` for success or failure using the `ViewEvent` pattern.
  - [ ] Write a widget test for the button in `frontend/test/features/health_check/health_check_button_test.dart`, mocking the `ApiClientService` to verify the interaction.
  - [ ] Ensure all new Dart classes and methods have DartDoc comments as mandated by [`docs/architecture/coding-standards.md`](../../docs/architecture/coding-standards.md).

# Dev Notes

- **Backend Health Check:** A simple controller should be created to handle the `GET /api/health` route. This route must be public (not require authentication). The controller must remain lean, delegating all business logic as per the rules in [`docs/architecture/backend-architecture.md#controller-template`](../../docs/architecture/backend-architecture.md).
- **Frontend API Client:** The `ApiClientService` must be created exactly as specified in [`docs/architecture/frontend-architecture.md#api-integration`](../../docs/architecture/frontend-architecture.md). This service will be the central point for all future API calls.
- **Frontend UI:** The UI can be minimal. The focus is on the interaction: button tap -> API call -> UI feedback via the state management architecture.
- **File Naming:** All file and class names must adhere to the conventions defined in [`docs/architecture/coding-standards.md`](../../docs/architecture/coding-standards.md) (e.g., `HealthCheckController.php`, `health_check_screen.dart`).

## Testing

- **Backend:** The feature test must be located at `backend/tests/Feature/HealthCheckTest.php`. This location is specified in the [`docs/architecture/testing-strategy.md`](../../docs/architecture/testing-strategy.md).
- **Frontend:** The widget test must be located at `frontend/test/features/health_check/health_check_button_test.dart`. It should use `mockito` or a similar package to mock the `ApiClientService`, as guided by the testing strategy.

# Change Log

| Date | Version | Description | Author |
| :--- | :------ | :---------- | :----- |
|      |         |             |        |

# Dev Agent Record

## Agent Model Used

## Debug Log References

## Completion Notes List

## File List

# QA Results

_TBD_
