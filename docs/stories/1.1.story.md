---
Status: Approved
Epic: 1
Story: 1
Title: Project Scaffolding & Core Setup
---

As a Developer,
I want a complete project scaffold for the Flutter and Laravel applications within a single monorepo,
so that I have a stable and consistent foundation for all future development.

### Acceptance Criteria

1.  A Git monorepo is initialized containing two primary directories: `frontend` (for Flutter) and `backend` (for Laravel).
2.  The Laravel backend is configured to use SQLite for its database, and the initial database migrations can be run successfully.
3.  The Flutter application is initialized with a clean, feature-based folder structure and necessary dependencies (Provider, Dio, etc.).
4.  A basic health-check endpoint (e.g., `GET /api/health`) is created in Laravel that returns a `200 OK` status.
5.  The Flutter app can successfully make an API call to the health-check endpoint.
6.  A root `README.md` file is created with comprehensive setup instructions. This must include prerequisites and a step-by-step guide covering:
    *   Initial project creation (e.g., `laravel new backend`).
    *   Dependency installation (`composer install`, `flutter pub get`).
    *   **Crucial framework setup, including the command to install Sanctum for an API-only SPA (`php artisan install:api`).**
    *   Environment configuration (`.env` setup, `php artisan key:generate`).
    *   Database setup (`php artisan migrate --seed`).
    *   Instructions for running both services concurrently.
7.  A Laravel database seeder is implemented and documented in the README. The seeder must populate the database with sample data, including at least one user for each role (Manager, Salesperson, etc.) and a small catalog of sample medications, to make the system immediately testable.

### Dev Notes

**CRITICAL:** This story establishes the foundation for the entire project. All file paths, naming conventions, and setup procedures must strictly adhere to the architecture documents.

*   **Project Structure:** The single source of truth for the monorepo structure is `docs/architecture/unified-project-structure.md`. All created files and directories must match this specification. [Source: `architecture/unified-project-structure.md`]
*   **Technology Stack:** The specific versions of frameworks and libraries to be used are defined in `docs/architecture/tech-stack.md`. [Source: `architecture/tech-stack.md`]

#### Backend Setup

*   **Database:** The backend must be configured to use SQLite. The complete database schema (DDL) to be used for the initial migrations is defined in `docs/architecture/database-schema.md`. [Source: `architecture/database-schema.md`]
*   **Authentication:** Laravel Sanctum must be installed and configured for an API-only, token-based authentication system as specified. [Source: `architecture/backend-architecture.md#authentication-and-authorization`]
*   **Health Check:** A simple controller should be created to handle the `GET /api/health` route. This route should be public (not require authentication). [Source: `architecture/backend-architecture.md#controllerroute-organization`]
*   **Seeder:** The database seeder is critical for creating a testable initial state. It must create users for all roles defined in the `User` data model and several sample `Medication` records. [Source: `architecture/data-models.md`]

#### Frontend Setup

*   **Folder Structure:** The `lib` directory must be organized by feature as laid out in `docs/architecture/frontend-architecture.md#component-organization`.
*   **Dependencies:** The `pubspec.yaml` must include `provider`, `dio`, `go_router`, and `flutter_secure_storage`. [Source: `architecture/tech-stack.md`]
*   **API Client:** An `ApiClientService` must be created as specified in `docs/architecture/frontend-architecture.md#api-integration`. This service will be used to make the call to the backend's health-check endpoint.
*   **Routing:** A basic `go_router` setup should be implemented as per the `docs/architecture/frontend-architecture.md#routing-architecture` document.

#### Testing
*   **Backend:** A feature test must be created for the `GET /api/health` endpoint to verify it returns a 200 OK status. This test should be located at `backend/tests/Feature/HealthCheckTest.php`.
*   **Frontend:** A widget test must be created for the health check button component. This test should verify that the button renders correctly and that tapping it triggers the API call. This test should be located at `frontend/test/features/health_check/health_check_button_test.dart`.
*   **Source:** `architecture/testing-strategy.md`

### Tasks / Subtasks

1.  **Initialize Project**
    *   [x] Initialize a new Git repository. [Skip, step was manually done by human user]
    *   [x] Create the root `README.md` file. [Skip, step was manually done by human user]
    *   [x] Create the `frontend/` and `backend/` directories as defined in `docs/architecture/unified-project-structure.md`. [Skip, step was manually done by human user]

2.  **Backend Scaffolding (AC: 2, 4, 7)**
    *   [x] Inside the `backend/` directory, create a new Laravel 12 project. [Skip, step was manually done by human user]
    *   [x] Configure the `.env` file to use SQLite and create the `database/database.sqlite` file. [Skip, step was manually done by human user]
    *   [x] Install Laravel Sanctum using the API-only installation (`php artisan install:api`). [Skip, step was manually done by human user]
    *   [ ] Create the initial database migrations based on the DDL in `docs/architecture/database-schema.md`.
    *   [ ] Create a `HealthCheckController` and register the `GET /api/health` route in `routes/api.php`.
    *   [ ] Create a `DatabaseSeeder` that populates `users` and `medications` tables with sample data.
    *   [ ] Write a feature test for the `GET /api/health` endpoint. [Source: `architecture/testing-strategy.md`]

3.  **Frontend Scaffolding (AC: 3, 5)**
    *   [x] Inside the `frontend/` directory, create a new Flutter 3.22 project. [Skip, step was manually done by human user]
    *   [ ] Add `provider`, `dio`, `go_router`, and `flutter_secure_storage` to `pubspec.yaml`.
    *   [ ] Create the feature-based directory structure inside `lib/` as specified in the architecture.
    *   [ ] Implement the `ApiClientService` in `lib/core/api/` to handle HTTP requests.
    *   [ ] Create a simple UI with a `PrimaryButton` that, when pressed, calls the backend's `/api/health` endpoint using the `ApiClientService`.
    *   [ ] Display a `SnackBar` with a success message if the API call is successful, or an error message if it fails. The error message should be retrieved from the `ApiException`.
    *   [ ] Write a widget test for the `PrimaryButton` component. [Source: `architecture/testing-strategy.md`]

4.  **Documentation (AC: 6)**
    *   [ ] Document prerequisites in `README.md`.
    *   [ ] Add backend setup instructions to `README.md`, including `composer install`, `.env` configuration, and `php artisan key:generate`.
    *   [ ] Add frontend setup instructions to `README.md`, including `flutter pub get`.
    *   [ ] Document the database migration and seeding process in `README.md` (`php artisan migrate --seed`).
    *   [ ] Provide clear instructions for running both the backend and frontend services concurrently.

---
### Change Log

| Date | Version | Description | Author |
| --- | --- | --- | --- |

---
### Dev Agent Record

- **Agent Model Used**:
- **Debug Log References**:
- **Completion Notes List**:
- **File List**:

---
### QA Results

_TBD_