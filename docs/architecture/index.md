# Pharmacy Management System Fullstack Architecture Document

## Table of Contents

- [Pharmacy Management System Fullstack Architecture Document](#pharmacy-management-system-fullstack-architecture-document)
  - [Introduction](./introduction.md)
    - [Starter Template or Existing Project](./introduction.md#starter-template-or-existing-project)
    - [Change Log](./introduction.md#change-log)
  - [High Level Architecture](./high-level-architecture.md)
    - [Technical Summary](./high-level-architecture.md#technical-summary)
    - [Platform and Infrastructure Choice](./high-level-architecture.md#platform-and-infrastructure-choice)
    - [Repository Structure](./high-level-architecture.md#repository-structure)
    - [High Level Architecture Diagram](./high-level-architecture.md#high-level-architecture-diagram)
    - [Architectural Patterns](./high-level-architecture.md#architectural-patterns)
  - [Tech Stack](./tech-stack.md)
    - [Technology Stack Table](./tech-stack.md#technology-stack-table)
  - [Data Models](./data-models.md)
    - [User](./data-models.md#user)
    - [Medication](./data-models.md#medication)
    - [Prescription](./data-models.md#prescription)
    - [Order](./data-models.md#order)
    - [Order Item](./data-models.md#order-item)
    - [Advice Request](./data-models.md#advice-request)
    - [Notification](./data-models.md#notification)
    - [Architecture Notes](./data-models.md#architecture-notes)
  - [API Specification](./api-specification.md)
    - [REST API Specification](./api-specification.md#rest-api-specification)
    - [Order Status Workflow Diagram](./api-specification.md#order-status-workflow-diagram)
    - [Advice Request Lifecycle Diagram](./api-specification.md#advice-request-lifecycle-diagram)
  - [Components](./components.md)
    - [Component List](./components.md#component-list)
      - [Backend (Laravel API)](./components.md#backend-laravel-api)
      - [Frontend (Flutter App)](./components.md#frontend-flutter-app)
    - [Component Diagrams](./components.md#component-diagrams)
  - [External APIs](./external-apis.md)
  - [Core Workflows](./core-workflows.md)
    - [Prescription Submission and Initial Processing Workflow](./core-workflows.md#prescription-submission-and-initial-processing-workflow)
    - [Order Fulfillment and Transactional Stock Management Workflow](./core-workflows.md#order-fulfillment-and-transactional-stock-management-workflow)
  - [Database Schema](./database-schema.md)
    - [Design Rationale](./database-schema.md#design-rationale)
  - [Frontend Architecture](./frontend-architecture.md)
    - [Component Architecture](./frontend-architecture.md#component-architecture)
      - [Component Organization](./frontend-architecture.md#component-organization)
      - [Component Template](./frontend-architecture.md#component-template)
    - [State Management Architecture](./frontend-architecture.md#state-management-architecture)
      - [State Structure](./frontend-architecture.md#state-structure)
      - [Provider Implementation Pattern](./frontend-architecture.md#provider-implementation-pattern)
    - [Routing Architecture](./frontend-architecture.md#routing-architecture)
      - [Routing Strategy](./frontend-architecture.md#routing-strategy)
      - [Route Configuration and Type-Safe API](./frontend-architecture.md#route-configuration-and-type-safe-api)
      - [Protected Route Pattern](./frontend-architecture.md#protected-route-pattern)
    - [API Integration](./frontend-architecture.md#api-integration)
      - [Structured Error Handling (why this exists â€” put this early)](./frontend-architecture.md#structured-error-handling-why-this-exists--put-this-early)
      - [API Client Configuration](./frontend-architecture.md#api-client-configuration)
      - [API Service Template (how feature code should use the client)](./frontend-architecture.md#api-service-template-how-feature-code-should-use-the-client)
  - [Backend Architecture](./backend-architecture.md)
    - [Service Architecture](./backend-architecture.md#service-architecture)
      - [Controller/Route Organization](./backend-architecture.md#controllerroute-organization)
      - [Controller Template](./backend-architecture.md#controller-template)
      - [Service Layer Pattern](./backend-architecture.md#service-layer-pattern)
      - [Architectural Guidance: Query Builder vs. Eloquent ORM](./backend-architecture.md#architectural-guidance-query-builder-vs-eloquent-orm)
    - [Database Architecture](./backend-architecture.md#database-architecture)
      - [Schema Design](./backend-architecture.md#schema-design)
      - [Data Access Layer (Repository Pattern)](./backend-architecture.md#data-access-layer-repository-pattern)
    - [Authentication and Authorization](./backend-architecture.md#authentication-and-authorization)
      - [Authentication Flow and Session Lifecycle](./backend-architecture.md#authentication-flow-and-session-lifecycle)
      - [Role-Based Access Control (RBAC) Middleware](./backend-architecture.md#role-based-access-control-rbac-middleware)
  - [Unified Project Structure](./unified-project-structure.md)
    - [Rationale & Key Strategies](./unified-project-structure.md#rationale--key-strategies)
  - [Development Workflow](./development-workflow.md)
    - [Local Development Setup](./development-workflow.md#local-development-setup)
      - [Prerequisites](./development-workflow.md#prerequisites)
      - [Initial Setup](./development-workflow.md#initial-setup)
      - [Development Commands](./development-workflow.md#development-commands)
    - [Environment Configuration](./development-workflow.md#environment-configuration)
      - [Backend (`backend/.env`)](./development-workflow.md#backend-backendenv)
      - [Database Configuration for Portability](./development-workflow.md#database-configuration-for-portability)
      - [Frontend (`frontend/.env`)](./development-workflow.md#frontend-frontendenv)
  - [Deployment Architecture](./deployment-architecture.md)
    - [Versioning Strategy](./deployment-architecture.md#versioning-strategy)
    - [Secret Management](./deployment-architecture.md#secret-management)
      - [Generating the Keystore Secret](./deployment-architecture.md#generating-the-keystore-secret)
    - [Continuous Delivery Pipeline (GitHub Actions)](./deployment-architecture.md#continuous-delivery-pipeline-github-actions)
    - [Environments](./deployment-architecture.md#environments)
  - [Security and Performance](./security-and-performance.md)
    - [Security Requirements](./security-and-performance.md#security-requirements)
    - [Performance Optimization](./security-and-performance.md#performance-optimization)
  - [Testing Strategy](./testing-strategy.md)
    - [Testing Pyramid](./testing-strategy.md#testing-pyramid)
    - [Test Organization](./testing-strategy.md#test-organization)
      - [Frontend Tests](./testing-strategy.md#frontend-tests)
      - [Backend Tests](./testing-strategy.md#backend-tests)
      - [End-to-End (E2E) Tests](./testing-strategy.md#end-to-end-e2e-tests)
    - [Test Examples](./testing-strategy.md#test-examples)
      - [Frontend Component Test (Widget Test)](./testing-strategy.md#frontend-component-test-widget-test)
      - [Backend API Test (Feature Test)](./testing-strategy.md#backend-api-test-feature-test)
      - [Critical Test Case Prototype: Transactional Order Processing](./testing-strategy.md#critical-test-case-prototype-transactional-order-processing)
      - [End-to-End (E2E) Test](./testing-strategy.md#end-to-end-e2e-test)
  - [Coding Standards](./coding-standards.md)
    - [Critical Fullstack Rules](./coding-standards.md#critical-fullstack-rules)
    - [Naming Conventions](./coding-standards.md#naming-conventions)
  - [Error Handling Strategy](./error-handling-strategy.md)
    - [Error Flow](./error-handling-strategy.md#error-flow)
    - [API Error Response Format](./error-handling-strategy.md#api-error-response-format)
    - [Backend Implementation (Laravel)](./error-handling-strategy.md#backend-implementation-laravel)
    - [Frontend Implementation (Flutter)](./error-handling-strategy.md#frontend-implementation-flutter)
  - [Monitoring and Observability](./monitoring-and-observability.md)
    - [Monitoring Stack](./monitoring-and-observability.md#monitoring-stack)
    - [Structured Logging Best Practices](./monitoring-and-observability.md#structured-logging-best-practices)
    - [Key Metrics to Observe During Development](./monitoring-and-observability.md#key-metrics-to-observe-during-development)
    - [Future Vision: Production-Ready Monitoring](./monitoring-and-observability.md#future-vision-production-ready-monitoring)